Один Дракон из далёких-далёких синих гор держит у себя в замке принцессу и никому её не отдает. А принцесса то с хорошим приданным, да и выглядит прекрасно. Поэтому и не стоит удивляться, что около замка выстроилась довольно длинная очередь из всякого рода рыцарей, желающих победить Дракона и освободить принцессу. А поскольку много рыцарей в одном месте быстро образуют очень неприятную толпу, которая своим шумом мешает принцессе проводить свой досуг, Дракон решил установить некоторые правила касательно порядка в очереди:
- Обычные рыцари должны вставать в конец очереди.
— Рыцари-дворяне, знающие особый пароль, встают ровно в ее середину, причем при нечетной длине очереди они встают сразу за центром.
- Если среди рыцарей объявится принц, то он встает в начало очереди.
Так как рыцари не особо хотят слушать дракона, а уж тем более выполнять его правила, то дракон попросил вас написать программу, которая могла бы отслеживать порядок рыцарей в очереди.
Описание входных данных
В первой строке входных данный записано число N (1 ≤ N ≤ 105) - количество запросов.
Следующие N строк содержат описание запросов в формате:
— + і - Рыцарь с номером і (1 < і < N) встаёт в конец очереди.
- * і - Рыцарь-дворянин с номером і встаёт в середину очереди.
— ! і - Рыцарь-принц с номером і встаёт в начало очереди. Гарантируется, что на всю
очередь может быть только один принц.
— - - Первый рыцарь из очереди идёт биться с драконом. Гарантируется, что на момент такого запроса очередь не пуста.
Описание выходных данных
Для каждого запроса типа "-" программа должна вывести номер рыцаря, который должен идти биться с драконом.